{% extends "demo/demo.html" %}

{% block static %}
  {{ block.super }}
  {% load leaflet_tags %}
  {% leaflet_css %}
  {% leaflet_js %}
  {% load static %}

  <!-- CSS -->
  <link rel="stylesheet" href="{% static '/newick/css/PCA.css' %}"></link>

  <!-- Javascript -->
  <script src="{% static '/newick/js/countyCoordinates.js' %}"></script>
  <script src="{% static '/newick/js/pcaCoordinates.js' %}"></script>
  <script src="{% static '/newick/js/colorPalette.js' %}"></script>
  <script src="{% static '/newick/js/antibiogram.js' %}"></script>
  <script src="{% static '/newick/js/mapAZ.js' %}"></script>
  <script src="{% static '/leaflet/leaflet-svgicon/demoAntibiogram-svg-icon.js' %}"></script>
  <script src="{% static '/plotly.js/dist/plotly.min.js' %}"></script>
  <script>
    // load database
    var DB = {{ demoPCA | safe }}
    var levels = ["state", "region", "county", "pca"]
    var mapFunctions = []
    var upImage = '{% static '/newick/images/up.png' %}'
    var downImage = '{% static '/newick/images/down.png' %}'
  </script>
{% endblock %}

{% block sideContent %}
  Bacteria:
  <div class="dropdown">
    <button id="bacteriaButton" class="btn btn-block btn-primary dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
    <div id="bacteriaDropdown" class="dropdown-menu" aria-labelledby="about-us">
    </div>
  </div>
  </br>

  Drug:
  <div class="dropdown">
    <button id="drugButton" class="btn btn-block btn-primary dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
    <div id="drugDropdown" class="dropdown-menu" aria-labelledby="about-us">
    </div>
  </div>
  </br>

  Susceptible/Resistant:
  <div class="dropdown">
    <button id="sr" class="btn btn-block btn-primary dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Susceptible</button>
    <div class="dropdown-menu" aria-labelledby="about-us">
      <a class="dropdown-item" onclick="document.getElementById('sr').innerHTML = 'Susceptible'; updatePlotly(); updateAll()">Susceptible</a>
      <a class="dropdown-item" onclick="document.getElementById('sr').innerHTML = 'Resistant'; updatePlotly(); updateAll()">Resistant</a>
    </div>
  </div>
  </br>

  Map Color:
  <div class="dropdown">
    <button id="mapColorButton" class="btn btn-block btn-primary dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Default</button>
    <div id="mapColorDropdown" class="dropdown-menu" aria-labelledby="about-us">
    </div>
  </div>
  </br>

  Year
  <input type="range" id="yearScale">
  </br>

{% endblock %}

{% block mainContent %}
  <div class="mainContent">
    <div style="width: 60%; margin-right: 10px;">
      {% leaflet_map "main" %}
    </div>
    <div id="plot" style="width: 40%;">
    </div>
  </div>
  <div class="mainContent">
    <table class="table table-bordered table-light">
      <thead>
        <tr>
          <td colspan="100%" style="font-size: 18px;"><center><b><div id="antibiogramHeader"></div></b></center></td>
        </tr>
        <tr>
          <td colspan="2"></td>
          <td colspan="100%" style="font-size: 16px;"><center><b><div id="antibiogramSubheader"></div></b></center></td>
        </tr>
        <tr id="drug">
          <td style="vertical-align: bottom;width: 200px;"><div><center><b>Organism</b></center></div></td>
          <td style="vertical-align: bottom;width: 50px;"><div><center><b># Strains</b></center></div></td>
        </tr>
      </thead>
      <tbody id="bug">
      </tbody>
    </table>
  </div>
{% endblock %}

